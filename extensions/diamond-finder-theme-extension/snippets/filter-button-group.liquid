{%- assign option_pairs = options_str | split: '|' -%}
<div class="tw-grid tw-grid-cols-5 tw-gap-2" data-filter-group="{{ group_id }}" data-multiselect="{{ multiselect | default: 'false' }}">
  {%- for pair_str in option_pairs -%}
    {%- assign parts = pair_str | split: ':' -%}
    {%- assign label = parts[0] -%}
    {%- assign value = parts[1] | default: label -%}
    {%- assign id_val = value | downcase | replace: ' ', '-' -%}
    {%- assign id = group_id | append: '-' | append: id_val -%}
    <button
      type="button"
      class="tw-w-full tw-px-3 tw-py-1.5 md:tw-px-4 md:tw-py-2 tw-border tw-border-gray-300 tw-rounded-md tw-text-sm tw-font-medium hover:tw-bg-gray-100 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-offset-1 focus:tw-ring-gray-500 data-[active='true']:tw-bg-gray-700 data-[active='true']:tw-text-white data-[active='true']:tw-border-gray-700 transition-colors duration-150 ease-in-out"
      data-value="{{ value }}"
      aria-pressed="false"
      id="{{ id }}"
    >
      {%- if group_id == 'ds-shape' -%}
        <span class="tw-flex tw-flex-col tw-items-center tw-justify-center">
          <span class="bn_comp_iconWrapper_9a1336 tw-mb-1">
            {%- if value == 'ROUND' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m11.46 6.268 2.974-4.175 3.025 4.142m-6 .033-5.07-.797.846 5.062m4.224-4.265-.994 3.189-1.676 4.109-1.52 2.966m4.19-10.264 2.967 1.52 4.117 1.685 3.18.986M11.46 6.27l-1.372-3.263m7.372 3.23 5.062-.847-.797 5.07m-4.265-4.224-2.95 1.553-4.102 1.726-3.172 1.02M17.46 6.234l1.027 3.18 1.717 4.093 1.553 2.95M17.46 6.236l1.347-3.295m2.918 7.52 4.183 2.982-4.15 3.017m-.033-6-1.52 2.967-1.677 4.117-.986 3.189m4.215-4.273.855 5.062-5.07-.79m4.215-4.273-3.172 1.028-4.092 1.717-2.95 1.553m5.999-.024-2.984 4.175-3.016-4.15m6-.025-2.967-1.529-4.117-1.676-3.189-.995m10.273 4.2 1.372 3.27m-7.372-3.245-5.062.854.79-5.079m4.272 4.224-1.027-3.172-1.725-4.1-1.554-2.95m4.306 10.222-1.355 3.312m-2.918-7.536-4.175-2.975 4.142-3.024m.033 6-3.262 1.38m3.23-7.38L3.964 9.202m21.038-.115-3.271 1.372m3.328 7.347-3.303-1.34m-3.214 1.036 1.644-4.035-1.685-4.01-4.035-1.652-4.01 1.685-1.652 4.035 1.693 4.018 4.035 1.644 4.01-1.685Zm.3-14.647c5.878 2.398 8.7 9.108 6.302 14.987-2.398 5.88-9.108 8.702-14.987 6.303-5.88-2.398-8.702-9.108-6.303-14.987 2.398-5.88 9.108-8.702 14.987-6.303Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'OVAL' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m22.12 18.533-2.095-1.824m-3.23 6.625.759-3.722 2.472-2.902m-3.231 6.624L14.03 22.14l3.525-2.527.856-5.573 1.615 2.67m-3.231 6.624 1.46 2.624m-1.46-2.624L14.03 27.5m2.765-4.166 3.962-.54-.73-6.084m0 0 2.464-2.45v-.144l-2.464-2.827 1.053-5.052-4.285-1.562m0 0L14.03.5m2.765 4.175.262 4.32 2.97 2.296-1.616 2.825-1.353-5.122-3.028-2.438 2.765-1.88Zm0 0 1.83-2.188m3.583 7.877-2.18.926m-14.226 6.8 2.22-1.38m0 0 2.658 2.836M8.022 16.71l1.616-2.67 1.042 5.506M8.022 16.71l-.857 5.872 4.09.752M8.022 16.71l-2.464-2.449v-.144l2.464-2.827-1.05-5.177 4.28-1.438L14.02.5m-2.765 22.834-.575-3.788m.575 3.788 2.765-1.195-3.34-2.593m.575 3.788L9.61 25.851m1.645-2.517L14.02 27.5M5.83 10.084l2.19 1.207m0 0 2.97-2.297m-2.97 2.297 1.617 2.825 1.353-5.122m.264-4.319-.264 4.32m.264-4.32 2.765 1.881-3.029 2.438m.264-4.319L9.414 2.447M5.5 14.192C5.5 5.745 9.308.5 14 .5s8.5 5.236 8.5 13.683C22.5 22.63 18.692 27.5 14 27.5s-8.5-4.821-8.5-13.308Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'EMERALD' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m21.498 4.02-3.927 2.874m3.927-2.874v19.96m0-19.96L18.853.5M17.57 6.894l-1.027-1.322m1.027 1.322v3.566M18.853.5l-2.309 5.072M18.853.5H7.155m9.39 5.072H9.462M4.5 4.02l3.936 2.874M4.5 4.02 7.155.5M4.5 4.02v19.96M8.436 6.894l1.027-1.322M8.436 6.894v14.203M7.155.5l2.308 5.072M21.498 23.98l-3.927-2.883m3.927 2.883-2.645 3.52m-1.282-6.402-1.027 1.33m1.027-1.33V10.462M18.853 27.5l-2.309-5.072m2.309 5.072H7.155m9.39-5.072H9.462M4.5 23.98l3.936-2.883M4.5 23.98l2.655 3.52m1.281-6.402 1.027 1.33M7.155 27.5l2.308-5.072m7.8-18.408 1.59 1.967v16.026l-1.59 1.967H8.744l-1.59-1.967.001-11.552V5.987l1.59-1.967h8.518Zm.817-1.785 2.11 2.778v17.964l-2.11 2.778H7.927l-2.119-2.778V5.013l2.12-2.778H18.08Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'PRINCESS' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.743 7.783v-.25h-.25v.25h.25Zm3.071 0v.25h.25v-.25h-.25Zm0-3.146v-.25h-.25v.25h.25Zm11.271 0h.25v-.25h-.25v.25Zm0 3.286h-.25v.25h.25v-.25Zm3.278 0h.25v-.25h-.25v.25Zm0 11.187v.25h.25v-.25h-.25ZM3 2v-.25h-.25V2H3Zm23 0h.25v-.25H26V2Zm0 23v.25h.25V25H26ZM3 25h-.25v.25H3V25ZM20.02 4.604l.068.24a.247.247 0 0 0 .032-.011l-.1-.23ZM8.85 7.75l-.068-.24a.25.25 0 0 0-.174.174l.242.066ZM3.189 25l-.23-.1a.25.25 0 0 0 .345.322L3.189 25ZM23.191 8.02l-.227-.105a.247.247 0 0 0-.014.04l.24.066ZM3.09 2.197l.096-.231a.25.25 0 0 0-.322.338l.225-.107Zm5.66 2.366-.097.23a.25.25 0 0 0 .026.01l.07-.24Zm11.334 3.353.24-.068a.25.25 0 0 0-.169-.172l-.07.24Zm3.18 11.229-.24.068a.267.267 0 0 0 .014.038l.226-.106ZM5.743 7.75l.242-.064a.25.25 0 0 0-.016-.044l-.226.108Zm.25 11.36V7.783h-.5V19.11h.5Zm-.25-11.077h3.071v-.5h-3.07v.5Zm3.321-.25V4.637h-.5v3.146h.5Zm-.25-2.896h11.271v-.5H8.815v.5Zm11.021-.25v3.286h.5V4.637h-.5Zm.25 3.536h3.278v-.5h-3.278v.5Zm3.028-.25V19.11h.5V7.923h-.5Zm.25 10.937h-3.244v.5h3.244v-.5Zm-3.494.25v3.015h.5V19.11h-.5Zm.25 2.765H8.75v.5h11.369v-.5ZM9 22.125V19.11h-.5v3.015H9Zm-.25-3.265H5.743v.5H8.75v-.5ZM3 2.25h23v-.5H3v.5ZM25.75 2v23h.5V2h-.5ZM26 24.75H3v.5h23v-.5ZM3.25 25V2h-.5v23h.5ZM25.9 1.77l-5.98 2.604.2.459 5.98-2.604-.2-.458Zm-5.948 2.593L8.782 7.509l.135.482 11.17-3.147-.135-.481ZM8.608 7.684l-3.106 11.36.482.132 3.107-11.36-.483-.132ZM5.514 19.011 2.96 24.9l.458.198 2.555-5.89-.459-.198Zm-2.21 6.211 5.56-2.875-.229-.444-5.56 2.875.229.444Zm5.51-2.855 11.369-3.015-.128-.483-11.37 3.015.13.483Zm11.546-3.19 3.072-11.09-.482-.133-3.072 11.09.482.133Zm3.057-11.05 2.81-6.021-.454-.212-2.809 6.021.453.212Zm-20.423-5.7 5.66 2.366.193-.462-5.66-2.366-.193.461ZM8.68 4.801l11.334 3.352.142-.479L8.822 4.322l-.142.48Zm11.165 3.18 3.18 11.23.48-.136-3.18-11.23-.48.137Zm3.194 11.268 2.734 5.856.454-.212-2.735-5.856-.454.212Zm3.07 5.525-5.88-2.874-.22.449 5.881 2.875.22-.45Zm-5.926-2.891L8.814 18.869l-.128.483 11.369 3.015.128-.483ZM8.992 19.046 5.985 7.686l-.483.128 3.006 11.36.484-.128ZM5.969 7.642 3.316 2.088l-.451.215 2.653 5.555.45-.216Z" fill="#151542"></path></svg>
            {%- elsif value == 'CUSHION' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m9.119 5.468.05 3.92m-.05-3.92 5.512 2.526M9.12 5.468l5.422-3.427 5.775 3.92M9.119 5.467l-.876-2.435m.876 2.435-3.653-.54.86 3.747m2.842.713-1.09 3.903m1.09-3.903 5.463-1.394M9.168 9.388l-2.842-.713m1.753 4.616 1 4.174m-1-4.174L6.326 8.675m1.753 4.616-2.163 4.337m3.162-.163-3.162.163m3.162-.163-.5 3.534m.5-3.534 5.234 1.541m-8.396-1.378-1.998 1.083m1.998-1.082L3.05 13.29l3.276-4.616m-.41 8.953-.45 4.461L8.578 21m11.516.434 1.008 2.452m-1.008-2.452L14.451 25l-5.873-4.001m11.516.434-5.782-2.427m5.782 2.427-.36-3.911m.36 3.911 3.522.656M8.578 21l5.734-1.993M8.578 21l-1.015 2.73m6.749-4.723 5.422-1.484m3.989 4.428-1.016-3.723m0 0-2.973-.705m2.973.705 2.343 1.304m-2.343-1.304 3.276-4.936-2.956-4.018m-.32 8.954-1.892-4.936m2.212-4.018-2.212 4.018m2.212-4.018-3.162.27m3.162-.27.491-4.46-3.202 1.147m2.71 3.313 2.196-1.115m-4.407 5.133-1.08 4.23m1.08-4.23-.95-3.747m0 0 .45-3.584m-.45 3.584-5.234-1.55m5.685-2.034L14.63 7.994m5.685-2.034 1.138-2.738M6.326 8.675 4.172 7.543M14.533 2c-1.261 0-6.675 0-9.075 2.886C3.058 7.773 3 13.258 3 13.258s-.107 5.74 2.457 8.798c2.563 3.059 7.683 2.903 8.993 2.903 1.31 0 6.725 0 9.165-2.91C26.057 19.136 26 16.832 26 13.29c0-3.542-.156-5.74-2.457-8.479C21.24 2.074 16.573 2 14.533 2Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'RADIANT' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m23.52 20.005-3.705-1.206 1.19 3.72m2.514-2.514V7.003m0 13.002-2.513 2.514m0 0L22.344 25m-1.338-2.48L14.5 19.66l-6.497 2.86m13.003 0H8.003M26 21.344l-2.48-1.338-2.793-6.507 2.792-6.497M26 21.344V5.664m0 15.681L22.345 25m1.174-17.997L26 5.663m-2.48 1.34-2.515-2.516H8.003M23.52 7.003 19.815 8.21l1.19-3.72M26 5.662 22.345 2m0 23H6.662m1.34-2.48L6.663 25m1.34-2.48-2.516-2.515V7.003l2.516-2.516M6.663 25 3 21.345M8.003 4.486l6.497 2.86 6.507-2.859L22.344 2M8.005 4.487 6.661 2M5.488 20.005l3.704-1.206-1.19 3.72M3 21.345l2.488-1.338L8.273 13.5 5.488 7.003M3 21.344V5.664l3.663-3.662L22.344 2M5.488 7.003 3 5.663m2.488 1.34L9.192 8.21l-1.19-3.72M14.5 7.404l5.24.87.805 5.225-.804 5.232-5.241.872-5.24-.872-.797-5.232.796-5.224 5.241-.871Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'ASSCHER' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.636 9.87 26 6.706M3 20.17l5.298-3.072M3 20.17 7.846 25M3 20.17V6.633m14.983 13.06L21.113 25m0 0 4.838-4.822M21.113 25H7.846M7.592 2.066l3.187 5.282m0 0-2.464 2.48v7.27l2.604 2.596h7.121l2.596-2.596m-9.857-9.75h7.335l2.522 2.513v7.237m-9.734 2.596L7.846 25M21.252 2l-3.154 5.34M21.252 2l4.699 4.69v13.488M21.252 2H7.592L3 6.633m17.636 10.465 5.315 3.08M3 6.633l5.38 3.244m10.728-4.23 3.22 3.204v9.224l-3.31 3.303H9.94l-3.319-3.303V8.81L9.77 5.647h9.34Zm1.027-1.725 3.926 3.918v11.262l-4.041 4.033H8.939l-4.05-4.041V7.783l3.836-3.86h11.41Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'MARQUISE' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.678 3.152 16.096 4.31m0 0 .26 3.616 3.377 2.583-1.62 3.337 1.496 3.558M16.095 4.31 14 5.196m2.096-.886L14.078.693h-.157L11.905 4.31l-4.02 2.103.379 4.098m7.83-6.2 4.019 2.102-.379 4.097 2.543 3.337-2.67 3.558m-3.56 6.21.436-3.906m-.437 3.906L14 22.854m2.048.76 1.738 1.158m-1.301-5.064 3.125-2.304m-3.125 2.304 1.631-5.862-1.758-5.921L14 5.196m2.484 14.512-2.485 3.146m5.61-5.45.583 4.137-4.144 2.073-1.968 3.694h-.159l-1.97-3.694M14 5.196l-2.096-.884-.26 3.616-3.378 2.582m5.734-5.314-2.357 2.729-1.749 5.921 1.622 5.862M14 22.854l-2.484-3.146M14 22.854l-2.047.76M8.265 10.51l-2.543 3.337L8.4 17.404l-.59 4.137 4.143 2.073M8.265 10.51l1.63 3.338-1.496 3.558 3.116 2.302m.437 3.906-.437-3.906m.437 3.906-1.739 1.158m.118-21.62 1.572 1.158m2.175 23.19a15.364 15.364 0 0 0 6.152-5.644 15.231 15.231 0 0 0 2.27-8.009C22.5 4.607 14.079.5 14.079.5h-.159S5.5 4.608 5.5 13.846a15.232 15.232 0 0 0 2.27 8.009 15.364 15.364 0 0 0 6.152 5.644l.156.001Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- elsif value == 'HEART' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.532 4.86v3.496m-2.476 11.536 2.404-.537m-2.404.537-4.943.055.35-4.39.197-3.14-2.736-1.894m7.132 9.369-1.812 2.659m4.216-3.196h.144m-.144 0-3.436-2.15-3.14-4.543-1.408-4.106 8.074-2.204L8.912 2.31 5.458 5.915m8.146 13.44 2.404.537m-2.404-.537 3.65-2.076 2.925-4.617 1.409-4.106-8.074-2.204 4.638-4.042 3.462 3.605m-5.606 13.977 4.754.237-.161-4.571-.198-3.142 2.736-1.893m-7.131 9.369 1.543 2.84m3.068-6.682 2.43 1.484m.09-7.011-1.408-1.967-.117-2.64m1.525 4.607 2.602 1.038m-2.602-1.038 1.517 3.87-7.401 3.031-1.39 2.322-2.297 5.008h-.072L11.2 19.746 9.953 17.06l-7.536-2.668 1.507-3.87m19.215 0 2.387-4.07-3.912-.537m0 0 1.247-3.095m-1.247 3.095-4.17 1.512-3.876.956h-.072l-3.875-.956-4.163-1.512m0 0L4.202 2.82m1.256 3.095-3.92.538 2.386 4.07m1.534-4.608-.125 2.64-1.409 1.968m0 0L1.323 11.56m5.041 4.343-2.233 1.784M13.532 25s12.559-5.226 12.559-16.444C26.09 5.688 23.848 2 20.116 2c-4.736 0-6.584 2.832-6.584 2.832S11.738 2 6.974 2C3.252 2 1 5.688 1 8.556 1 19.774 13.559 25 13.559 25h-.027Z" stroke="#151542" stroke-width="0.5" stroke-linejoin="round"></path></svg>
            {%- elsif value == 'PEAR' -%}
              <svg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m11.393 4.676-4.585-.761L7.84 9.06m3.554-4.385-.482 3.239m.482-3.24L13.95.588m-6.11 8.474 1.976 3.057-1.893 2.912M7.84 9.061l-2.773 2.633 2.856 3.336M7.84 9.061l3.072-1.146M7.922 15.03l-.372 5.12 4.183 1.321 2.284-1.523-3.08-2.44M7.921 15.03l3.014 2.478M7.922 15.03 5.905 16.44m5.031 1.069.797 3.964m-.797-3.964-1.12-5.388 1.095-4.205m0 0 3.04-1.678M7.838 9.062 5.174 7.81m6.56 13.663-1.338 2.749m1.337-2.749 2.284 5.843M13.95 6.237l-2.559-1.562-1.42-3.132m3.979 4.694 3.046 1.679 1.204 3.943m-4.25-5.622 2.564-1.561 1.362-3.153m-1.362 3.153 4.559-.734-1.005 5.12m0 0-1.868 2.797m1.869-2.797 2.723-.886M18.2 11.859l1.843 3.172m-1.843-3.172-1.037 5.65-.93 3.963m3.81-6.44.324 5.206-4.134 1.234m3.81-6.44 2.051 1.3m-5.861 5.14-2.284-1.523 3.214-2.44 2.88-2.477 2.848-3.337-2.824-2.634-3.072-1.145-.482-3.24L13.95.5m2.284 20.972 1.104 3.007m-1.104-3.007-2.284 5.843m.033.185S23 21.608 23 9.978C23 .84 14.565.5 13.983.5 13.403.5 5 .569 5 9.978 4.965 21.616 13.983 27.5 13.983 27.5Z" stroke="#151542" stroke-width="0.5"></path></svg>
            {%- endif -%}
          </span>
          <span class="bn_comp_btnText_5e6207">{{ label }}</span>
        </span>
      {%- else -%}
        {{ label }}
      {%- endif -%}
    </button>
  {%- endfor -%}
</div>